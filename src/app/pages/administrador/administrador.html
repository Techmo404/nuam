<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>NUAM - Administrador</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<style>
  body { background-color: #f8f9fa; }
  header { background-color: #003366; color: white; }
  .logo { height: 40px; margin-right: 10px; }
  .card-quick { transition: 0.3s; }
  .card-quick:hover { transform: scale(1.03); }
</style>
</head>

<body>

<header class="d-flex align-items-center justify-content-between px-3 py-2">
  <div class="d-flex align-items-center">
    <img src="https://www.biobiochile.cl/assets/logos-notas-patrocinadas/6341953_logo_img_patrocinada.png" class="logo">
    <h4 class="m-0">Panel Administrador - NUAM</h4>
  </div>

  <div class="dropdown text-end">
    <button class="btn btn-outline-light dropdown-toggle" type="button" data-bs-toggle="dropdown">
      üë§ Administrador
    </button>

    <ul class="dropdown-menu dropdown-menu-end">
      <li><h6 class="dropdown-header">Usuario Admin</h6></li>
      <li><span class="dropdown-item-text text-muted small">Rol: Administrador</span></li>
      <li><hr class="dropdown-divider"></li>

      <li><a class="dropdown-item text-danger" (click)="logout()">Cerrar sesi√≥n</a></li>
    </ul>
  </div>
</header>


<main class="container my-4">

<h5 class="mb-4 text-primary">üìä Panel General</h5>

<div class="row g-3">

  <div class="col-md-3">
    <div class="card card-quick text-center shadow-sm">
      <div class="card-body">
        <h6>Total Usuarios</h6>
        <h3 class="text-success">{{ countUsuarios }}</h3>
      </div>
    </div>
  </div>

  <div class="col-md-3">
    <div class="card card-quick text-center shadow-sm">
      <div class="card-body">
        <h6>Total Empleados</h6>
        <h3 class="text-primary">{{ countEmpleados }}</h3>
      </div>
    </div>
  </div>

  <div class="col-md-3">
    <div class="card card-quick text-center shadow-sm">
      <div class="card-body">
        <h6>Auditor√≠as Registradas</h6>
        <h3 class="text-warning">{{ countAuditorias }}</h3>
      </div>
    </div>
  </div>

  <div class="col-md-3">
    <div class="card card-quick text-center shadow-sm">
      <div class="card-body">
        <h6>Certificados Procesados</h6>
        <h3 class="text-info">{{ countCertificados }}</h3>
      </div>
    </div>
  </div>

</div>

<hr class="my-5">

<h5 class="text-primary">üìã Usuarios Registrados</h5>

<div class="table-responsive mt-3">
  <table class="table table-striped align-middle">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Nombre</th>
        <th>Email</th>
        <th>Rol</th>
      </tr>
    </thead>
    <tbody>

      <tr *ngFor="let u of usuarios">
        <td>{{ u.id }}</td>
        <td>{{ u.nombre }}</td>
        <td>{{ u.email }}</td>
        <td>{{ u.rol }}</td>
      </tr>

    </tbody>
  </table>
</div>

<hr class="my-5">
<div class="text-end mt-3">
  <button class="btn btn-success btn-action">‚ûï Nuevo registro</button>
  <button class="btn btn-secondary btn-action">‚¨ÜÔ∏è Carga masiva</button>
</div>


<hr class="my-5">

<section id="reportes">
  <h5 class="mb-3 text-primary">üìà Generaci√≥n de Reportes</h5>
  <p class="text-muted small mb-3">
    El empleado puede generar reportes de validaciones, montos y certificados
    procesados por a√±o o tipo.
  </p>

  <form class="row g-3 mb-3">
    <div class="col-md-6">
      <select class="form-select">
        <option>Seleccione a√±o</option>
        <option>2025</option>
        <option>2024</option>
      </select>
    </div>

    <div class="col-md-6">
      <select class="form-select">
        <option>Tipo de reporte</option>
        <option>Resumen general</option>
        <option>Detalle por cliente</option>
        <option>Certificados procesados</option>
      </select>
    </div>

    <div class="col-12 text-end">
      <button class="btn btn-primary">Generar reporte</button>
    </div>
  </form>

  <div class="card p-3 shadow-sm">
    <h6>Vista previa del reporte</h6>

    <div class="bg-light p-3 text-muted text-center">
      <p><em>El reporte se mostrar√° aqu√≠ una vez generado...</em></p>
    </div>

    <div class="text-end mt-2">
      <button class="btn btn-outline-success btn-action">‚¨áÔ∏è Descargar PDF</button>
      <button class="btn btn-outline-secondary btn-action">‚¨áÔ∏è Descargar Excel</button>
    </div>
  </div>
</section>
</main>

<footer class="text-center py-3 mt-5 border-top">
  <small>
    ¬© 2025 NUAM | Sistema de Calificaciones Tributarias | Uso exclusivo de empleados autorizados
  </small>
</footer>

</body>
</html>